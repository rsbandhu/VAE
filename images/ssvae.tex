\begin{figure}[!h]
\centering
\begin{tikzpicture}
\node[circ, xshift=+2cm, yshift=-3cm] (y) {$y$};
\node[circ, xshift=+4cm, yshift=-3cm] (z) {$z$};
\node[circ, fill=gray!30, xshift=+3cm, yshift=-4.5cm] (x) {$x$};

\draw

(z) edge [connect] (x)
(y) edge [connect] (x)

;
% \draw[fill=gray!30] plot[smooth, tension=.8] coordinates {(5.5, 0.5) (6, 0.3) (6.5, -0.3) (6, -0.5) (5.5, -1) (5, -0.3) (4.5, 0) (4.8, 0.4) (5.5, 0.5)};
\end{tikzpicture}
\hspace{1.5cm}
\begin{tikzpicture}
\node[circ, fill=gray!30, xshift=+2cm, yshift=-3cm] (y) {$y$};
\node[circ, xshift=+4cm, yshift=-3cm] (z) {$z$};
\node[circ, fill=gray!30, xshift=+3cm, yshift=-4.5cm] (x) {$x$};

\draw

(z) edge [connect] (x)
(y) edge [connect] (x)

;
% \draw[fill=gray!30] plot[smooth, tension=.8] coordinates {(5.5, 0.5) (6, 0.3) (6.5, -0.3) (6, -0.5) (5.5, -1) (5, -0.3) (4.5, 0) (4.8, 0.4) (5.5, 0.5)};
\end{tikzpicture}
\caption{Graphical model for SSVAE. Gray nodes denote observed variables; unshaded nodes denote latent variables. \textbf{Left:} SSVAE for the setting where the labels $y$ are unobserved; \textbf{Right:} SSVAE where some data points $(x,y)$ have observed labels.
} 
\label{fig:ssvae}
\end{figure}